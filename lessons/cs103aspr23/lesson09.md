# Lesson 9 - Python Object Oriented Programming
This lesson continues discussion of OOP in Python but we also show how to use GPT to help learn new programming concepts, like OOP.

## the GPT API
The following Python program allows you to access the GPT server from Python.
To use it you will need to get an API key from openAI.com as mentioned in the comment

``` python
'''
Demo code for interacting with GPT-3 in Python.
This code comes from an article on medium.com
https://medium.com/codingthesmartway-com-blog/how-to-use-chatgpt-with-python-1213b8477f7b

To run this you need to 
* first visit openai.com and get an APIkey, which you insert into the code below.
  get the apikey at this URL https://platform.openai.com/account/api-keys
* next create a folder and put this file in the folder as gpt_demo.py
* finally run the following commands

% pip3 install openai  (on Mac, or pip install openai on Windows/Linux)
% python3 gpt_demo.py  (on Mac, or python gptapi.py on Windows/Linux)

The program will ask for a prompt, send it to openAI, get the response, and print it.
'''
import openai

# Set up the OpenAI API client
openai.api_key = "YOUR_API_KEY"

# test for an API key
if openai.api_key=="YOUR_API_KEY":
    print("You need to get an openapi api key to use this demo")
    exit()

# Set up the model and prompt
model_engine = "text-davinci-003"
prompt = input("Enter a prompt: ") # "Hello, how are you today?"

# Generate a response
completion = openai.Completion.create(
    engine=model_engine,
    prompt=prompt,
    max_tokens=1024,
    n=1,
    stop=None,
    temperature=0.5,
)

response = completion.choices[0].text
print(response)
```

This allows you to run gpt queries from your command line and not have to open up a browser....
Here are a few examples of its use.

## creating the BankAccount class demo
When using an AI chatbot to learn a new programming language,
make sure that you try to understand everyone of code!  You should
also trace through simple programs by hand or using pythontutor.com
to see how the code works on a line-by-line level.

Note that, like wikipedia, you can not trust anything the chatbot
produces, no matter how correct it looks. You need to be highly skeptical.

The following example produces almost the same code as we showed last week
(but I didn't ask it to write a transfer method).

``` python
'''
This code was generated by GPT-3 in response to the following query:
 % python3 gptapi.py
Enter a prompt: How would you create a simple BankAccount class in Python to deposit and withdraw funds and get the balance?
'''

class BankAccount:
    def __init__(self, balance):
        self.balance = balance

    def deposit(self, amount):
        self.balance += amount
        return self.balance

    def withdraw(self, amount):
        self.balance -= amount
        return self.balance

    def get_balance(self):
        return self.balance

# Usage:

account = BankAccount(100)
account.deposit(50)
account.withdraw(25)
print(account.get_balance()) # 125
```

## implementing a simple shell in Python
Here is another example where we ask chatGPT to implement a simple shell in Python.
By studying the code we can learn how to implement a shell and it also shows us 
which new packages we might want to learn (in this case the ["os" package](https://docs.python.org/3/library/os.html)).

``` python
#!/usr/bin/python3

'''
my_gpt_demo.py 
Enter a prompt: Write a Python program to implement a simple shell to process the ls, cd, pwd, and mkdir commands
'''

import os

def my_shell():
    while True:
        command = input("$ ").split()
        if len(command) == 0:
            continue
        if command[0] == "ls":
            os.system("ls")
        elif command[0] == "cd":
            if len(command) > 1:
                os.chdir(command[1])
            else:
                os.chdir(os.environ['HOME'])
        elif command[0] == "pwd":
            print(os.getcwd())
        elif command[0] == "mkdir":
            if len(command) > 1:
                os.mkdir(command[1])
            else:
                print("Error: No directory name specified")
        elif command[0] == "exit":
            break
        else:
            print("Error: command not found")

if __name__=='__main__':
    my_shell()


```
